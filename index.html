<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Registro PILARES</title>
  
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
  
  <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
  
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <div id="notification-bar">
    <span id="notif-icon">âœ…</span>
    <span id="notif-msg">Mensaje</span>
  </div>

  <header>
    <h1>PILARES REFORMA POLÃTICA</h1>
  </header>

  <main>
    
    <div id="viewMenu" class="view active">
      <h2>BIENVENIDO</h2>
      <p class="subtitle">Selecciona una opciÃ³n</p>
      <div class="tablet-row">
        <button class="btn-main bg-green" onclick="iniciarFlujo('ENTRADA')">
          <span style="font-size:3rem">â¡ï¸</span><span>ENTRADA</span>
        </button>
        <button class="btn-main bg-red" onclick="iniciarFlujo('SALIDA')">
          <span style="font-size:3rem">â¬…ï¸</span><span>SALIDA</span>
        </button>
      </div>
    </div>

    <div id="viewScan" class="view">
      <h2 id="tituloScan">Registro</h2>
      <div class="camera-container"><div id="reader"></div></div>
      
      <div class="input-group">
        <label>FOLIO</label>
        <input type="text" id="inputFolio" placeholder="Escanea o escribe..." autocomplete="off">
      </div>

      <div class="input-group" style="margin-top: 10px;">
        <button id="btnSiguiente" class="btn-main bg-blue" style="height: 100px; font-size: 1.5rem;" onclick="validarFolio()">
          CONTINUAR
        </button>
      </div>
      <button class="fab-cancel" onclick="volverInicio()">Cancelar</button>
    </div>

    <div id="viewNombre" class="view">
      <h2>Â¡Hola!</h2>
      <p class="subtitle">Es tu primera vez, escribe tu nombre</p>
      <div class="input-group">
        <label>NOMBRE COMPLETO</label>
        <input type="text" id="inputNombreNuevo" placeholder="Tu nombre aquÃ­" autocomplete="off">
      </div>
      <div class="input-group">
        <button class="btn-main bg-green" style="height: 100px; font-size: 1.5rem;" onclick="guardarNombreYContinuar()">
          GUARDAR Y CONTINUAR
        </button>
      </div>
      <button class="fab-cancel" onclick="volverInicio()">Cancelar</button>
    </div>

    <div id="viewActivity" class="view">
      <h2>Elige Actividad</h2>
      <p class="subtitle" id="saludoUsuario">Toca una opciÃ³n</p>
      
      <div class="grid-container">
        <button class="btn-card b-blue" onclick="seleccionarActividad('AlfabetizaciÃ³n')">
          <span class="icon">ğŸ“</span> AlfabetizaciÃ³n
        </button>

        <button class="btn-card b-blue" onclick="seleccionarActividad('ComputaciÃ³n')">
          <span class="icon">ğŸ’»</span> ComputaciÃ³n
        </button>
        <button class="btn-card b-blue" onclick="seleccionarActividad('Uso de computadora')">
          <span class="icon">âŒ¨ï¸</span> Uso de PC
        </button>
        
        <button class="btn-card b-blue" onclick="seleccionarActividad('INEA Primaria')">
          <span class="icon">ğŸ“˜</span> INEA Primaria
        </button>
        <button class="btn-card b-blue" onclick="seleccionarActividad('INEA Secundaria')">
          <span class="icon">ğŸ“—</span> INEA Secundaria
        </button>
        
        <button class="btn-card b-orange" onclick="irAMaterias('AsesorÃ­as', ['MatemÃ¡ticas', 'EspaÃ±ol', 'Historia', 'FÃ­sica', 'BiologÃ­a', 'QuÃ­mica', 'InglÃ©s'])">
          <span class="icon">ğŸ§‘â€ğŸ«</span> AsesorÃ­as<br><small>Materias</small>
        </button>

        <button class="btn-card b-purple" onclick="seleccionarActividad('Informes')">
          <span class="icon">â„¹ï¸</span> Informes
        </button>

        <button class="btn-card b-orange" onclick="irAModulos('Prepa en LÃ­nea', 23)">
          <span class="icon">ğŸ“</span> Prepa LÃ­nea<br><small>MÃ³dulos</small>
        </button>
        <button class="btn-card b-orange" onclick="irAModulos('Prepa Abierta', 22)">
          <span class="icon">ğŸ“</span> Prepa Abierta<br><small>MÃ³dulos</small>
        </button>
        <button class="btn-card b-orange" onclick="irAModulos('Bachillerato', 9)">
          <span class="icon">ğŸ“</span> Bachillerato<br><small>MÃ³dulos</small>
        </button>

        <button class="btn-card b-teal" onclick="seleccionarActividad('Servicio Social')">
          <span class="icon">ğŸ¤</span> Servicio Social
        </button>
      </div>
      <button class="fab-cancel" onclick="volverAScan()">AtrÃ¡s</button>
    </div>

    <div id="viewModules" class="view">
      <h2 id="tituloModulo">SelecciÃ³n</h2>
      <div id="gridModulos" class="num-grid"></div>
      <button class="fab-cancel" onclick="mostrarVista('viewActivity')">Volver</button>
    </div>

  </main>

  <footer></footer>

  <div id="overlay">
    <div id="loaderSpinner" class="spinner"></div>
    <div id="successCheck" class="checkmark-wrapper">
       <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
         <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/>
         <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
       </svg>
    </div>
    <div id="mensajeContainer" class="mensaje-final-container">
        <h1 id="overlayTitle">Ã‰XITO</h1>
        <p id="overlayMessage">Mensaje</p>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>